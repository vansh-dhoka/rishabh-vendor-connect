# Rishabh Vendor Connect - Quick Deployment Checklist

## üöÄ Pre-Deployment Checklist

### ‚úÖ Code Preparation
- [ ] Code committed to GitHub repository
- [ ] All environment variables documented
- [ ] Database schema ready (`backend/db/schema.sql`)
- [ ] Logo assets copied to both frontend and backend
- [ ] User credentials configured in auth system

### ‚úÖ Render Account Setup
- [ ] Render account created
- [ ] GitHub repository connected to Render
- [ ] Payment method added (for Starter plan)

---

## üóÑÔ∏è Step 1: Database Setup (5 minutes)

### Create PostgreSQL Database
1. **Go to Render Dashboard** ‚Üí **New** ‚Üí **PostgreSQL**
2. **Configure Database:**
   ```
   Name: rishabh-vendor-connect-db
   Plan: Free (or Starter for production)
   Database Name: rishabh_vendor_connect
   User: rishabh_user
   ```
3. **Save the connection string** from the database dashboard

---

## üîß Step 2: Backend Deployment (10 minutes)

### Create Web Service
1. **Go to Render Dashboard** ‚Üí **New** ‚Üí **Web Service**
2. **Connect Repository:** Select your GitHub repo
3. **Configure Service:**
   ```
   Name: rishabh-vendor-connect-backend
   Environment: Node
   Plan: Starter (recommended)
   Build Command: npm ci --only=production
   Start Command: npm run start:production
   Health Check Path: /health
   ```

### Environment Variables
**Required Variables:**
```
NODE_ENV=production
JWT_SECRET=<auto-generated-by-render>
DATABASE_URL=<from-database-service>
FRONTEND_URL=https://rishabh-vendor-connect-frontend.onrender.com
```

**Optional Variables:**
```
STORAGE_TYPE=local
UPLOAD_DIR=/opt/render/project/src/storage/uploads
PDF_STORAGE_DIR=/opt/render/project/src/storage/pdfs
```

### Add Persistent Storage
1. **Add Disk:**
   ```
   Name: rishabh-vendor-connect-storage
   Mount Path: /opt/render/project/src/storage
   Size: 1GB
   ```

### Deploy Backend
- [ ] Click **Create Web Service**
- [ ] Wait for deployment to complete
- [ ] Test health check: `https://your-backend-url.onrender.com/health`

---

## üé® Step 3: Frontend Deployment (5 minutes)

### Create Static Site
1. **Go to Render Dashboard** ‚Üí **New** ‚Üí **Static Site**
2. **Connect Repository:** Select your GitHub repo
3. **Configure Site:**
   ```
   Name: rishabh-vendor-connect-frontend
   Build Command: npm ci && npm run build
   Publish Directory: dist
   ```

### Environment Variables
```
VITE_API_URL=https://rishabh-vendor-connect-backend.onrender.com
VITE_APP_NAME=Rishabh Vendor Connect
VITE_APP_VERSION=1.0.0
```

### Deploy Frontend
- [ ] Click **Create Static Site**
- [ ] Wait for build and deployment
- [ ] Test frontend: `https://your-frontend-url.onrender.com`

---

## üîó Step 4: Connect Services (2 minutes)

### Update Backend Environment
1. **Go to Backend Service** ‚Üí **Environment**
2. **Update FRONTEND_URL:**
   ```
   FRONTEND_URL=https://your-actual-frontend-url.onrender.com
   ```
3. **Redeploy** the backend service

---

## ‚úÖ Step 5: Verification (5 minutes)

### Test Application
- [ ] **Frontend loads:** Visit your frontend URL
- [ ] **Login works:** Use Super Admin credentials
   ```
   Email: superadmin@rishabhvendorconnect.com
   Password: SuperAdmin@123
   ```
- [ ] **API connectivity:** Check if data loads in dashboard
- [ ] **Health check:** Visit `/health` endpoint
- [ ] **File uploads:** Test PDF generation
- [ ] **Database:** Verify data persistence

### Test User Roles
- [ ] **Super Admin:** Full access to all features
- [ ] **Company Admin:** Company-scoped access
- [ ] **Project Manager:** RFQ and project management
- [ ] **Finance Manager:** PO and invoice management
- [ ] **Vendor:** Quote submission
- [ ] **Viewer:** Read-only access

---

## üìä Step 6: Monitoring Setup (3 minutes)

### Enable Monitoring
- [ ] **Health checks** are working
- [ ] **Logs** are accessible in Render dashboard
- [ ] **Metrics** endpoint working: `/api/monitoring/overview`
- [ ] **Database stats** accessible: `/api/monitoring/database`

### Set Up Alerts (Optional)
- [ ] **Uptime monitoring** configured
- [ ] **Error rate alerts** set up
- [ ] **Performance monitoring** enabled

---

## üîí Step 7: Security Configuration (5 minutes)

### Production Security
- [ ] **HTTPS** is enforced (automatic on Render)
- [ ] **CORS** configured for frontend domain
- [ ] **Rate limiting** enabled (100 requests/minute)
- [ ] **JWT secrets** are auto-generated
- [ ] **File uploads** have size limits (10MB)

### User Management
- [ ] **Default passwords** changed in production
- [ ] **User roles** properly configured
- [ ] **Company scoping** working correctly

---

## üìã Step 8: Backup Configuration (2 minutes)

### Database Backups
- [ ] **Automated backups** enabled in Render
- [ ] **Backup frequency** set (daily recommended)
- [ ] **Retention period** configured (30 days minimum)

### File Backups
- [ ] **Persistent storage** configured
- [ ] **File retention** policy in place

---

## üéØ Final Deployment Checklist

### ‚úÖ Application Status
- [ ] Frontend accessible and responsive
- [ ] Backend API responding correctly
- [ ] Database connected and migrations run
- [ ] All user roles working properly
- [ ] File uploads and PDF generation working
- [ ] Health checks passing

### ‚úÖ Performance
- [ ] Page load times acceptable
- [ ] API response times under 2 seconds
- [ ] Database queries optimized
- [ ] Static assets loading quickly

### ‚úÖ Security
- [ ] HTTPS enforced
- [ ] Authentication working
- [ ] Authorization properly scoped
- [ ] Input validation active
- [ ] File upload security enabled

### ‚úÖ Monitoring
- [ ] Health checks configured
- [ ] Logs accessible
- [ ] Error tracking working
- [ ] Performance metrics available

---

## üö® Troubleshooting Common Issues

### Backend Issues
**Problem:** Health check failing
**Solution:** Check DATABASE_URL and ensure database is running

**Problem:** Build failing
**Solution:** Verify Node.js version and dependencies

**Problem:** File uploads not working
**Solution:** Check disk storage configuration and permissions

### Frontend Issues
**Problem:** API calls failing
**Solution:** Verify VITE_API_URL points to correct backend

**Problem:** Build failing
**Solution:** Check for missing dependencies or build errors

### Database Issues
**Problem:** Connection refused
**Solution:** Verify DATABASE_URL format and credentials

**Problem:** Migrations failing
**Solution:** Check database permissions and schema file

---

## üìû Support Resources

### Render Documentation
- [Render Docs](https://render.com/docs)
- [Render Community](https://community.render.com)
- [Render Status](https://status.render.com)

### Application Support
- **Health Check:** `https://your-backend-url.onrender.com/health`
- **API Docs:** Available in code comments
- **User Guide:** See USER_LOGIN_CREDENTIALS.md

---

## üéâ Deployment Complete!

Your Rishabh Vendor Connect application is now live with:
- ‚úÖ **Multi-company support** with proper isolation
- ‚úÖ **Role-based access control** for all user types
- ‚úÖ **Complete vendor workflow** from RFQ to payment
- ‚úÖ **HSN/GST compliance** with tax calculations
- ‚úÖ **PDF generation** for invoices and POs
- ‚úÖ **Comprehensive monitoring** and logging
- ‚úÖ **Automated backups** and security features

**Next Steps:**
1. Share login credentials with your team
2. Set up custom domain (optional)
3. Configure additional monitoring (optional)
4. Train users on the system
5. Set up regular maintenance schedule

---

**Total Deployment Time: ~30 minutes**
**Cost: Free tier available, Starter plan recommended for production**
